/* Header navigation - Main menu
========================================================================== */

#header-nav .menu-main-container {	
	.menu {
		& > li {
			position: relative;
			&.menu-item-has-children {
				& > a {
					padding: 0 30px 0 0;
				}
				.toggle-submenu {
					@include sizing(10px, 10px);
					line-height: 10px;
					text-align: center;					
					position: absolute;
					right: 0;
					top: 0;
					z-index: 10;
					cursor: pointer;
					@include transition(all 0.8s ease-in-out);
				  	transform: rotate(0deg);							
					&.show {
						transform: rotate(180deg);
					}
				}
			}
			.sub-menu {
				position: absolute;
				top: 15px;	
				left: 0;
				z-index: 3;			
				opacity: 0;
				@include transition(opacity 0.5s ease-in-out);
				&.show {
					opacity: 1;
				}
				li {
					ul {
						display: none;
					}
				}											
			}						
		}
	}
}

/* Mobile nav and button
========================================================================== */

.mobile-menu-button {
	display: none;
    cursor: pointer;
    span {
    	@include inline-block(middle);
    }
    .icon-lines {
    	@include sizing(25px, 20px);	    	
    	position: relative;
    	margin: 0 5px 0 0;    	
    	background: $color-03;
    	&:before, &:after {
    		display: block;
    		background: $color-01;
    		content: '';
    		@include sizing(100%, 4px);
    		position: absolute;
    		z-index: 2;
    		left: 0;
    	}
    	&:before {
    		top: 4px;
    	}
    	&:after {
    		bottom: 4px;
    	}	
    }	
}

#mobile-menu {
	left: -($mobile-menu-width + 300);
	background: $color-03;
	border-right: 1px solid $color-03 - #222;
	position: fixed;
	top: 0;
	z-index: 9999;
	@include sizing($mobile-menu-width, 100%);
	@include transition(left 0.3s ease-in-out);
	&.show {
		left: 0;			
		box-shadow: 7px 0 5px -2px rgba(0,0,0,0.35);
	}
	.mobile-menu-header {
		position: relative;
		border-bottom: 1px solid $color-03 - #222;	
		padding: 0 10px;
		color: $color-01;
		.mobile-header, .icon {
			line-height: 50px;
		}
		.mobile-header {
			font-weight: bold;
			font-size: rem(20px);
		}
		.icon {
			display: block;
			@include sizing(50px, 50px);
			position: absolute;
			right: 0;
			top: 0;
			text-align: center;
			font-size: rem(25px);
			background: $color-02;
			cursor: pointer;
		}
	}
	.menu-main-container .menu {		
		position: relative;
		li {
			border-top: 1px solid $color-03 + #000;
			border-bottom: 1px solid $color-03 - #222;	
			&:last-child:after {				
				content: '';
				display: block;
				@include sizing(100%, 1px);
				border-bottom: 1px solid $color-03 + #000;
			}					
			a {
				color: $color-01;
				display: block;	
				padding: 10px;	
				font-size: rem(16px);		
			}
		}
		& > li {			
			position: relative;
			left: 0;
			@include transition(left 0.3s ease-in-out);
			&.menu-item-has-children {
				& > a {
					padding: 10px 50px 10px 10px;
				}
				.icon {
					color: $color-01;
					&.toggle-submenu {
						display: none;
					}
					&.slide-submenu {
						@include sizing(20px, 20px);
						line-height: 20px;
						text-align: center;
						position: absolute;
						top: 12px;
						right: 10px;					
						z-index: 10;
						cursor: pointer;
						@include transition(all 0.5s ease-in-out);
					  	transform: rotate(0deg);
					  	font-size: rem(20px);
					}
				}				
			}			
			.sub-menu {
				width: 100%;
				margin: 1px 0 0 0;
				position: absolute;
				left: -($mobile-menu-width + 300);
				@include transition(left 0.5s ease-in-out);
				li ul {
					display: none;
				}
			}
			&.slide-close {
				left: -($mobile-menu-width + 300);	
				height: 0;
				overflow: hidden;
				padding: 0;
				border: 0;
				& > * {
					display: none;
				}
			}
			&.slide-open {
				background: $color-03 + #000;
				border-top: 1px solid transparent;
				& > a {
					font-weight: bold;
				}
				.icon.slide-submenu {
					transform: rotate(180deg);
				}
				.sub-menu {
					left: 0;
				}
			}
		}
	}	
}

.logged-in #mobile-menu {
	top: 46px;
}